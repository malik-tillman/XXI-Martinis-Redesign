<style>
  :root {
    --ticker-color: {{ section.settings.color }};
  }
</style>
<section class="product-ticker mt-24 md:mt-36 xl:mt-44 text-center">
  <p class="sub-title">{{ section.settings.title }}</p>
  <div class="ticker-wrap hidden md:flex mt-12 overflow-hidden">
    <div class="ticker-list flex text-silver">
      {% for block in section.blocks %}
        <div class="ticker-item">{{ block.settings.text }}</div>
      {% endfor %}
    </div>
  </div>
  <div class="carousel md:invisible md:h-0 mt-7">
    {% for block in section.blocks %}
      <div class="slide w-full mr-3 mb-6 px-6">
        <p>{{ block.settings.text }}</p>
      </div>
    {% endfor %}
  </div>
  {% if section.settings.button_label != blank %}
    <a href="{{ section.settings.button_link | escape }}" class="btn mt-12">
      {{ section.settings.button_label }}
    </a>
  {% endif %}
</section>
{% schema %}
  {
    "name": "Product Ticker",
    "settings": [
      {
        "type": "text",
        "id": "title",
        "label": "Title"
      },
      {
        "type": "header",
        "content": "Ticker"
      },
      {
        "type": "color",
        "id": "color",
        "label": "Color"
      },
      {
        "type": "header",
        "content": "Button"
      },
      {
        "type": "text",
        "id": "button_label",
        "label": "Button Label"
      },
      {
        "type": "url",
        "id": "button_link",
        "label": "Button Link"
      }
    ],
    "blocks": [
      {
        "name": "Message",
        "type": "message",
        "settings": [
          {
            "type": "textarea",
            "id": "text",
            "label": "Message"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Product Ticker"
      }  
    ],
    "templates": [
      "product"
    ]
  }
{% endschema %}